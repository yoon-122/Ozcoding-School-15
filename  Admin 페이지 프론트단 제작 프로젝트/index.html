<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>Admin Page</title>
    <style>
        /* ë‹¤í¬ëª¨ë“œ ìŠ¤íƒ€ì¼ */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        /* í…Œì´ë¸” ë‹¤í¬ëª¨ë“œ ìŠ¤íƒ€ì¼ */
        body.dark-mode .table {
            color: #ffffff;
            border-color: #444444;
        }
        body.dark-mode .table thead th {
            background-color: #2d2d2d;
            color: #ffffff;
            border-color: #444444;
        }
        body.dark-mode .table tbody td {
            background-color: #2d2d2d;
            color: #ffffff;
            border-color: #444444;
        }
        body.dark-mode .table tbody tr:nth-of-type(odd) td {
            background-color: #353535;
        }
        body.dark-mode .table tbody tr:nth-of-type(even) td {
            background-color: #2d2d2d;
        }
        body.dark-mode .table tbody tr:hover td {
            background-color: #404040;
        }
        body.dark-mode .form-select,
        body.dark-mode .form-control {
            background-color: #2d2d2d;
            color: #ffffff;
            border-color: #444444;
        }
        body.dark-mode .form-select option {
            background-color: #2d2d2d;
            color: #ffffff;
        }
        body.dark-mode .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        body.dark-mode .btn-outline-secondary {
            color: #ffffff;
            border-color: #6c757d;
        }
        body.dark-mode .btn-outline-secondary:hover {
            background-color: #6c757d;
            border-color: #6c757d;
            color: #ffffff;
        }
        body.dark-mode .card {
            background-color: #2d2d2d;
            border-color: #444444;
        }
        body.dark-mode .modal-content {
            background-color: #2d2d2d;
            color: #ffffff;
        }
        body.dark-mode .modal-header {
            border-bottom-color: #444444;
        }
        body.dark-mode .modal-footer {
            border-top-color: #444444;
        }
        body.dark-mode .btn-close {
            filter: invert(1);
        }
        body.dark-mode .pagination .page-link {
            background-color: #2d2d2d;
            color: #ffffff;
            border-color: #444444;
        }
        body.dark-mode .pagination .page-item.active .page-link {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }
        body.dark-mode .pagination .page-item.disabled .page-link {
            background-color: #1a1a1a;
            color: #6c757d;
            border-color: #444444;
        }
        body.dark-mode h2,
        body.dark-mode h3 {
            color: #ffffff;
        }
        body.dark-mode .text-muted {
            color: #adb5bd !important;
        }
    </style>
</head>
<body>
    <div class="container mt-3">
        <!-- ìƒë‹¨ í—¤ë” ì˜ì—­ -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Admin í˜ì´ì§€</h2>
            <div class="d-flex gap-3 align-items-center">
                <!-- ë‚ ì§œ/ì‹œê°„ í‘œì‹œ -->
                <div id="date-time" class="text-muted"></div>
                <!-- ì„±ë³„ ì…€ë ‰í„° (ì±Œë¦°ì§€ ê¸°ëŠ¥) -->
                <select class="form-select form-select-sm" id="gender-select" style="width: auto;">
                    <option value="">ì„±ë³„ ì„ íƒ</option>
                    <option value="male">ë‚¨ì„±</option>
                    <option value="female">ì—¬ì„±</option>
                </select>
                <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
                <button class="btn btn-outline-secondary btn-sm" id="dark-mode-toggle">ğŸŒ™ ë‹¤í¬ëª¨ë“œ</button>
                <!-- íšŒì›ê°€ì… ë²„íŠ¼ -->
                <button class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#signupModal">íšŒì›ê°€ì…</button>
            </div>
        </div>

        <!-- ì‹ ê·œ ë“±ë¡ ìƒí’ˆ ì„¹ì…˜ -->
        <h3 class="mt-5 mb-3">ì‹ ê·œ ë“±ë¡ ìƒí’ˆ</h3>
        
        <!-- ê²€ìƒ‰/í•„í„° ì˜ì—­ -->
        <form class="row row-cols-lg-auto g-3 align-items-center mb-4">
            <div class="col-12">
                <label class="visually-hidden" for="category-select">ì¹´í…Œê³ ë¦¬</label>
                <select class="form-select" id="category-select" name="category_data_table">
                    <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                    <option value="ìƒì˜">ìƒì˜</option>
                    <option value="í•˜ì˜">í•˜ì˜</option>
                    <option value="ì‹ ë°œ">ì‹ ë°œ</option>
                    <option value="íŒ¨ì…˜ì¡í™”">íŒ¨ì…˜ì¡í™”</option>
                </select>
            </div>
            <div class="col-12">
                <input type="text" class="form-control" id="product-name-input" placeholder="ì œí’ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
            </div>
            <div class="col-12">
                <button type="button" class="btn btn-primary" id="search-btn">ì¡°íšŒ</button>
            </div>
        </form>

        <!-- ì œí’ˆ í…Œì´ë¸” -->
        <div class="container mt-3">
            <table class="table table-sm table-striped">
                <thead>
                    <tr>
                        <th>ì¹´í…Œê³ ë¦¬</th>
                        <th>ë¸Œëœë“œ</th>
                        <th>ìƒí’ˆëª…</th>
                        <th>ê°€ê²©</th>
                    </tr>
                </thead>
                <tbody id="product_data_Table">
                    <!-- ì œí’ˆ ë°ì´í„°ê°€ ì—¬ê¸° ì¶”ê°€ë©ë‹ˆë‹¤. -->
                </tbody>
            </table>
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
        <nav aria-label="í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜">
            <ul class="pagination justify-content-center" id="pagination">
                <!-- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì—¬ê¸° ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </ul>
        </nav>
    </div>

    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="signupModalLabel">íšŒì›ê°€ì…</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="signup-form">
                        <div class="mb-3">
                            <label for="signup-id" class="form-label">ì•„ì´ë””</label>
                            <input type="text" class="form-control" id="signup-id" placeholder="ì•„ì´ë””" required>
                        </div>
                        <div class="mb-3">
                            <label for="signup-password" class="form-label">ë¹„ë°€ë²ˆí˜¸</label>
                            <input type="password" class="form-control" id="signup-password" placeholder="ë¹„ë°€ë²ˆí˜¸" required>
                            <small class="form-text text-muted">*ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•œ 8ì ì´ìƒ 30ì ë¯¸ë§Œì´ì–´ì•¼ í•©ë‹ˆë‹¤.</small>
                        </div>
                        <div class="mb-3">
                            <label for="signup-password-confirm" class="form-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</label>
                            <input type="password" class="form-control" id="signup-password-confirm" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required>
                        </div>
                        <div class="mb-3">
                            <label for="signup-name" class="form-label">ì´ë¦„</label>
                            <input type="text" class="form-control" id="signup-name" placeholder="ì‚¬ìš©ì ì´ë¦„" required>
                        </div>
                        <div class="mb-3">
                            <label for="signup-phone" class="form-label">ì „í™”ë²ˆí˜¸</label>
                            <input type="tel" class="form-control" id="signup-phone" placeholder="íœ´ëŒ€ì „í™” ë²ˆí˜¸" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ì„±ë³„</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="signup-gender" id="signup-gender-male" value="ë‚¨ì" checked>
                                    <label class="form-check-label" for="signup-gender-male">ë‚¨ì</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="signup-gender" id="signup-gender-female" value="ì—¬ì">
                                    <label class="form-check-label" for="signup-gender-female">ì—¬ì</label>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="signup-email" class="form-label">ì´ë©”ì¼</label>
                            <input type="email" class="form-control" id="signup-email" placeholder="ì´ë©”ì¼" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" id="signup-submit-btn">ê°€ì…</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // ì œí’ˆ ë°ì´í„°
        const product_data = [
            { category: "ìƒì˜", brand: "Supreme", product: "ìŠˆí”„ë¦¼ ë°•ìŠ¤ë¡œê³  í›„ë“œí‹°", price: "390,000" },
            { category: "í•˜ì˜", brand: "DIESEL", product: "ë””ì ¤ íŠ¸ë™ íŒ¬ì¸ ", price: "188,000" },
            { category: "ì‹ ë°œ", brand: "Nike", product: "ì—ì–´í¬ìŠ¤ 1", price: "137,000" },
            { category: "íŒ¨ì…˜ì¡í™”", brand: "Music&Goods", product: "ë¹µë¹µì´ í‚¤ë§", price: "29,000" },
            { category: "ìƒì˜", brand: "Supreme", product: "ìŠˆí”„ë¦¼ í‹°ì…”ì¸ ", price: "150,000" },
            { category: "í•˜ì˜", brand: "Nike", product: "ë‚˜ì´í‚¤ ì¡°ê±° íŒ¬ì¸ ", price: "89,000" },
            { category: "ì‹ ë°œ", brand: "Adidas", product: "ì•„ë””ë‹¤ìŠ¤ ìŠˆí¼ìŠ¤íƒ€", price: "120,000" },
            { category: "íŒ¨ì…˜ì¡í™”", brand: "Champion", product: "ì±”í”¼ì–¸ ëª¨ì", price: "45,000" },
            { category: "ìƒì˜", brand: "Stussy", product: "ìŠ¤íˆ¬ì‹œ í›„ë“œ", price: "180,000" },
            { category: "í•˜ì˜", brand: "Carhartt", product: "ì¹´í•˜íŠ¸ ì›Œí¬íŒ¬ì¸ ", price: "165,000" },
            { category: "ì‹ ë°œ", brand: "Converse", product: "ì»¨ë²„ìŠ¤ ì²™í…Œì¼ëŸ¬", price: "85,000" },
            { category: "íŒ¨ì…˜ì¡í™”", brand: "Supreme", product: "ìŠˆí”„ë¦¼ í‚¤ì²´ì¸", price: "35,000" }
        ];

        // ì œí’ˆ í…Œì´ë¸”ì— ë°ì´í„° ì¶”ê°€ í•¨ìˆ˜
        const product_data_Table = document.getElementById('product_data_Table');
        let currentPage = 1;
        const itemsPerPage = 5;
        let filteredData = [...product_data];

        function renderTable(data) {
            product_data_Table.innerHTML = '';
            const start = (currentPage - 1) * itemsPerPage;
            const end = start + itemsPerPage;
            const pageData = data.slice(start, end);

            pageData.forEach((item) => {
                const row = product_data_Table.insertRow();
                row.insertCell(0).innerHTML = item.category;
                row.insertCell(1).innerHTML = item.brand;
                row.insertCell(2).innerHTML = item.product;
                row.insertCell(3).innerHTML = item.price;
            });
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§ í•¨ìˆ˜
        function renderPagination(data) {
            const pagination = document.getElementById('pagination');
            const totalPages = Math.ceil(data.length / itemsPerPage);
            pagination.innerHTML = '';

            if (totalPages === 0) {
                return;
            }

            // Previous ë²„íŠ¼
            const prevLi = document.createElement('li');
            prevLi.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
            prevLi.innerHTML = `<a class="page-link" href="#" data-page="${currentPage - 1}">Previous</a>`;
            pagination.appendChild(prevLi);

            // í˜ì´ì§€ ë²ˆí˜¸ ë²„íŠ¼
            for (let i = 1; i <= totalPages; i++) {
                const li = document.createElement('li');
                li.className = `page-item ${i === currentPage ? 'active' : ''}`;
                li.innerHTML = `<a class="page-link" href="#" data-page="${i}">${i}</a>`;
                pagination.appendChild(li);
            }

            // Next ë²„íŠ¼
            const nextLi = document.createElement('li');
            nextLi.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
            nextLi.innerHTML = `<a class="page-link" href="#" data-page="${currentPage + 1}">Next</a>`;
            pagination.appendChild(nextLi);

            // í˜ì´ì§€ í´ë¦­ ì´ë²¤íŠ¸
            pagination.querySelectorAll('.page-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = parseInt(link.getAttribute('data-page'));
                    if (page && page !== currentPage && page >= 1 && page <= totalPages) {
                        currentPage = page;
                        renderTable(filteredData);
                        renderPagination(filteredData);
                    }
                });
            });
        }

        // ê²€ìƒ‰ ê¸°ëŠ¥
        function filterProducts() {
            const category = document.getElementById('category-select').value;
            const productName = document.getElementById('product-name-input').value.toLowerCase();

            filteredData = product_data.filter(item => {
                const matchesCategory = !category || item.category === category;
                const matchesName = !productName || item.product.toLowerCase().includes(productName);
                return matchesCategory && matchesName;
            });

            currentPage = 1;
            renderTable(filteredData);
            renderPagination(filteredData);
        }

        // ì¡°íšŒ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.getElementById('search-btn').addEventListener('click', filterProducts);

        // ì—”í„° í‚¤ë¡œ ê²€ìƒ‰
        document.getElementById('product-name-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                e.preventDefault();
                filterProducts();
            }
        });

        // ì¹´í…Œê³ ë¦¬ ë³€ê²½ ì‹œ ê²€ìƒ‰
        document.getElementById('category-select').addEventListener('change', filterProducts);

        // ë‚ ì§œ/ì‹œê°„ í‘œì‹œ í•¨ìˆ˜
        function updateDateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ko-KR', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                weekday: 'short'
            });
            const timeStr = now.toLocaleTimeString('ko-KR', {
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('date-time').textContent = `${dateStr} ${timeStr}`;
        }

        // ë‹¤í¬ëª¨ë“œ í† ê¸€
        document.getElementById('dark-mode-toggle').addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            document.getElementById('dark-mode-toggle').textContent = isDark ? 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ' : 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ';
        });

        // ì €ì¥ëœ ë‹¤í¬ëª¨ë“œ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸°
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
            document.getElementById('dark-mode-toggle').textContent = 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ';
        }

        // íšŒì›ê°€ì… í¼ ìœ íš¨ì„± ê²€ì‚¬
        function validatePassword(password) {
            // ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•œ 8ì ì´ìƒ 30ì ë¯¸ë§Œ
            const regex = /^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,29}$/;
            return regex.test(password);
        }

        // íšŒì›ê°€ì… ì œì¶œ
        document.getElementById('signup-submit-btn').addEventListener('click', () => {
            const id = document.getElementById('signup-id').value;
            const password = document.getElementById('signup-password').value;
            const passwordConfirm = document.getElementById('signup-password-confirm').value;
            const name = document.getElementById('signup-name').value;
            const phone = document.getElementById('signup-phone').value;
            const gender = document.querySelector('input[name="signup-gender"]:checked').value;
            const email = document.getElementById('signup-email').value;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (!validatePassword(password)) {
                alert('ë¹„ë°€ë²ˆí˜¸ëŠ” ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë¥¼ í¬í•¨í•œ 8ì ì´ìƒ 30ì ë¯¸ë§Œì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }

            if (password !== passwordConfirm) {
                alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }

            // íšŒì›ê°€ì… ì •ë³´ í‘œì‹œ
            const signupInfo = `
íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!

ì•„ì´ë””: ${id}
ì´ë¦„: ${name}
ì „í™”ë²ˆí˜¸: ${phone}
ì„±ë³„: ${gender}
ì´ë©”ì¼: ${email}
            `;

            alert(signupInfo);

            // ëª¨ë‹¬ ë‹«ê¸°
            const modal = bootstrap.Modal.getInstance(document.getElementById('signupModal'));
            modal.hide();

            // í¼ ë¦¬ì…‹
            document.getElementById('signup-form').reset();

            // ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™
            window.location.href = 'signup-complete.html';
        });

        // ì´ˆê¸° ë°ì´í„° ë¡œë”©
        renderTable(filteredData);
        renderPagination(filteredData);
        updateDateTime();
        setInterval(updateDateTime, 1000); // 1ì´ˆë§ˆë‹¤ ì—…ë°ì´íŠ¸
    </script>
</body>
</html>

